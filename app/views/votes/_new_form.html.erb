<% 
   remote = request.xhr? ? true : false   
%>

<%= form_for @vote, url: {action: "create"}, html: {class: "nifty_form"}, remote: remote do |f| %>
<% if @vote.errors.any? %>
  <div id="error_explanation">
    <h2>
      <%= pluralize(@vote.errors.count, "error") %> 
      prohibited this vote from being saved:
    </h2>
    <ul>
      <% @vote.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>  

<div class="table-responsive sd-table-votes">
  <table class="table table-bordered">
    <h1><%= _("Sign the petition") %></h1>
    <tr>
      <td><%= _("Name") %> (*)</td>
      <td><%= f.text_field :name %></td>
    </tr>
    <tr>
      <td><%= _("Email") %> (*)</td>
      <td><%= f.text_field :email %></td>
    </tr>
    <tr>
      <td><%= _("Email Confirmation") %> (*)</td>
      <td><%= f.text_field :email_confirmation %></td>
    </tr>
    <tr>
      <td><%= _("Country") %> (*)</td>
      <td>
        <%= f.select(:country, options_for_select(Country.for_select, country_code)) %>
      </td>
    </tr>
    <tr>
      <td><%= f.label :humanizer_answer, @vote.humanizer_question %></td>
      <td><%= f.text_field :humanizer_answer %><%= f.hidden_field :humanizer_question_id %></td>
    </tr>
    <tr>
      <td colspan="2" class="text-center">
        <%= f.submit "Sign", :class => "btn btn-primary btn-lg btn-block" %>
      </td>
    </tr>
  </table>
</div>
<% end %>

